(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{179:function(e,t,n){},255:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(36),r=n.n(a),i=(n(179),n(6)),o=n(134),l=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},j=n(262),d=n(55),u=n(269),h=n(127),b=n(263),O=n(162),x=n(46),m=n(59),f=n(265),g=n(272),p=n(270),y=n(271),w=n(264),S=n(273),v=n(57),k=n(274),I=n(275),T=n(276),E=n(277),A=n(278),F=n(95),N=n(268),C=n(266),P=n(260),D=n(261),L=n(267),B=n(168),M=function(e,t,n,c){c=c||"topRight",B.a[e]({message:t,description:n,placement:c})},J=function(e,t,n){return M("success",e,t,n)},R=function(e,t,n){return M("error",e,t,n)},z=n(7),H=F.a.Option,q=Object(z.jsx)(v.a,{style:{fontSize:24},spin:!0});var G=function(e){var t=e.showDrawer,n=e.setShowDrawer,s=e.fetchStudents,a=function(){return n(!1)},r=Object(c.useState)(!1),j=Object(i.a)(r,2),d=j[0],u=j[1];return Object(z.jsx)(N.a,{title:"Create new student",width:720,onClose:a,visible:t,bodyStyle:{paddingBottom:80},footer:Object(z.jsx)("div",{style:{textAlign:"right"},children:Object(z.jsx)(x.a,{onClick:a,style:{marginRight:8},children:"Cancel"})}),children:Object(z.jsxs)(C.a,{layout:"vertical",onFinishFailed:function(e){alert(JSON.stringify(e,null,2))},onFinish:function(e){u(!0),console.log(JSON.stringify(e,null,2)),function(e){return Object(o.a)("api/v1/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(l)}(e).then((function(){console.log("student added"),a(),J("Student successfully added","".concat(e.name," was added to the system")),s()})).catch((function(e){console.log(e),e.response.json().then((function(e){console.log(e),R("There was an issue","".concat(e.message," [").concat(e.status,"] [").concat(e.error,"]"),"bottomLeft")}))})).finally((function(){u(!1)}))},hideRequiredMark:!0,children:[Object(z.jsxs)(P.a,{gutter:16,children:[Object(z.jsx)(D.a,{span:12,children:Object(z.jsx)(C.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter student name"}],children:Object(z.jsx)(L.a,{placeholder:"Please enter student name"})})}),Object(z.jsx)(D.a,{span:12,children:Object(z.jsx)(C.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter student email"}],children:Object(z.jsx)(L.a,{placeholder:"Please enter student email"})})})]}),Object(z.jsx)(P.a,{gutter:16,children:Object(z.jsx)(D.a,{span:12,children:Object(z.jsx)(C.a.Item,{name:"gender",label:"gender",rules:[{required:!0,message:"Please select a gender"}],children:Object(z.jsxs)(F.a,{placeholder:"Please select a gender",children:[Object(z.jsx)(H,{value:"MALE",children:"MALE"}),Object(z.jsx)(H,{value:"FEMALE",children:"FEMALE"}),Object(z.jsx)(H,{value:"OTHER",children:"OTHER"})]})})})}),Object(z.jsx)(P.a,{children:Object(z.jsx)(D.a,{span:12,children:Object(z.jsx)(C.a.Item,{children:Object(z.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Submit"})})})}),Object(z.jsx)(P.a,{children:d&&Object(z.jsx)(O.a,{indicator:q})})]})})},K=(n(255),j.a.Header),U=j.a.Content,Y=j.a.Footer,_=j.a.Sider,Q=d.a.SubMenu,V=function(e){var t=e.name,n=t.trim();return 0===n.length?Object(z.jsx)(u.a,{icon:Object(z.jsx)(S.a,{})}):1===n.split(" ").length?Object(z.jsx)(u.a,{children:t.charAt(0)}):Object(z.jsx)(u.a,{children:"".concat(t.charAt(0)).concat(t.charAt(t.length-1))})},W=function(e,t){(function(e){return Object(o.a)("api/v1/students/".concat(e),{method:"DELETE"}).then(l)})(e).then((function(){J("Student deleted","Student with ".concat(e," was deleted")),t()})).catch((function(e){e.response.json().then((function(e){console.log(e),R("There was an issue","".concat(e.message," [").concat(e.status,"] [").concat(e.error,"]"))}))}))},X=function(e){return[{title:"",dataIndex:"avatar",key:"avatar",render:function(e,t){return Object(z.jsx)(V,{name:t.name})}},{title:"Id",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Actions",key:"actions",render:function(t,n){return Object(z.jsxs)(h.a.Group,{children:[Object(z.jsx)(b.a,{placement:"topRight",title:"Are you sure to delete ".concat(n.name),onConfirm:function(){return W(n.id,e)},okText:"Yes",cancelText:"No",children:Object(z.jsx)(h.a.Button,{value:"small",children:"Delete"})}),Object(z.jsx)(h.a.Button,{value:"small",children:"Edit"})]})}}]},Z=Object(z.jsx)(v.a,{style:{fontSize:24},spin:!0});function $(e){return null}var ee=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(i.a)(a,2),u=r[0],h=r[1],b=Object(c.useState)(!0),v=Object(i.a)(b,2),F=v[0],N=v[1],C=Object(c.useState)(!1),P=Object(i.a)(C,2),D=P[0],L=P[1],B=function(){return Object(o.a)("api/v1/students").then(l).then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).catch((function(e){console.log(e.response),e.response.json().then((function(e){console.log(e),R("There was an issue","".concat(e.message," [").concat(e.status,"] [").concat(e.error,"]"))}))})).finally((function(){return N(!1)}))};return Object(c.useEffect)((function(){console.log("component is mounted"),B()}),[]),Object(z.jsxs)(j.a,{style:{minHeight:"100vh"},children:[Object(z.jsxs)(_,{collapsible:!0,collapsed:u,onCollapse:h,children:[Object(z.jsx)("div",{className:"logo"}),Object(z.jsxs)(d.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(z.jsx)(d.a.Item,{icon:Object(z.jsx)(I.a,{}),children:"Option 1"},"1"),Object(z.jsx)(d.a.Item,{icon:Object(z.jsx)(T.a,{}),children:"Option 2"},"2"),Object(z.jsxs)(Q,{icon:Object(z.jsx)(S.a,{}),title:"User",children:[Object(z.jsx)(d.a.Item,{children:"Tom"},"3"),Object(z.jsx)(d.a.Item,{children:"Bill"},"4"),Object(z.jsx)(d.a.Item,{children:"Alex"},"5")]},"sub1"),Object(z.jsxs)(Q,{icon:Object(z.jsx)(E.a,{}),title:"Team",children:[Object(z.jsx)(d.a.Item,{children:"Team 1"},"6"),Object(z.jsx)(d.a.Item,{children:"Team 2"},"8")]},"sub2"),Object(z.jsx)(d.a.Item,{icon:Object(z.jsx)(A.a,{}),children:"Files"},"9")]})]}),Object(z.jsxs)(j.a,{className:"site-layout",children:[Object(z.jsx)(K,{className:"site-layout-background",style:{padding:0}}),Object(z.jsxs)(U,{style:{margin:"0 16px"},children:[Object(z.jsxs)(y.a,{style:{margin:"16px 0"},children:[Object(z.jsx)(y.a.Item,{children:"User"}),Object(z.jsx)(y.a.Item,{children:"Bill"})]}),Object(z.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:F?Object(z.jsx)(O.a,{indicator:Z}):n.length<=0?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(x.a,{onClick:function(){return L(!D)},type:"primary",shape:"round",icon:Object(z.jsx)(k.a,{}),size:"small",children:"Add New Student"}),Object(z.jsx)(G,{showDrawer:D,setShowDrawer:L,fetchStudents:B}),Object(z.jsx)(m.a,{})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(G,{showDrawer:D,setShowDrawer:L,fetchStudents:B}),Object(z.jsx)(f.a,{dataSource:n,columns:X(B),bordered:!0,title:function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(g.a,{children:"Number of students"}),Object(z.jsx)(p.a,{count:n.length,className:"site-badge-count-4"}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)(x.a,{onClick:function(){return L(!D)},type:"primary",shape:"round",icon:Object(z.jsx)(k.a,{}),size:"small",children:"Add New Student"})]})},pagination:{pageSize:50},scroll:{y:500},rowKey:function(e){return e.id}})]})})]}),Object(z.jsxs)(Y,{style:{textAlign:"center"},children:["Just to see if this thing here works. And it does",Object(z.jsx)($,{width:75,src:"https://image.shutterstock.com/image-photo/vegetarian-person-600w-84748639.jpg"})]}),Object(z.jsx)(w.a,{children:Object(z.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.linkedin.com/danielohuruogu",children:"Link for more of me"})})]})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,279)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(z.jsx)(s.a.StrictMode,{children:Object(z.jsx)(ee,{})}),document.getElementById("root")),te()}},[[258,1,2]]]);
//# sourceMappingURL=main.200faff1.chunk.js.map