(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{176:function(e,t,n){},252:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(36),i=n.n(s),r=(n(176),n(6)),l=n(130),o=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},d=n(259),j=n(53),u=n(266),h=n(46),b=n(159),O=n(57),x=n(260),m=n(267),g=n(264),f=n(265),p=n(55),y=n(268),S=n(269),w=n(270),I=n(271),v=n(272),E=n(273),k=n(96),F=n(263),T=n(261),A=n(257),C=n(258),N=n(262),D=n(165),P=function(e,t,n){D.a[e]({message:t,description:n})},L=function(e,t){return P("success",e,t)},M=function(e,t){return P("error",e,t)},R=n(8),z=k.a.Option,B=Object(R.jsx)(p.a,{style:{fontSize:24},spin:!0});var H=function(e){var t=e.showDrawer,n=e.setShowDrawer,a=e.fetchStudents,s=function(){return n(!1)},i=Object(c.useState)(!1),d=Object(r.a)(i,2),j=d[0],u=d[1];return Object(R.jsx)(F.a,{title:"Create new student",width:720,onClose:s,visible:t,bodyStyle:{paddingBottom:80},footer:Object(R.jsx)("div",{style:{textAlign:"right"},children:Object(R.jsx)(h.a,{onClick:s,style:{marginRight:8},children:"Cancel"})}),children:Object(R.jsxs)(T.a,{layout:"vertical",onFinishFailed:function(e){alert(JSON.stringify(e,null,2))},onFinish:function(e){u(!0),console.log(JSON.stringify(e,null,2)),function(e){return Object(l.a)("api/v1/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(o)}(e).then((function(){console.log("added student"),s(),L("Student successfully added","Success message: ".concat(e.name," successfully added")),a()})).catch((function(t){t.response.json().then((function(t){console.log(t),M("Student was not added. Please try again","Error message: ".concat(e.name," not added"))}))})).finally((function(){u(!1)}))},hideRequiredMark:!0,children:[Object(R.jsxs)(A.a,{gutter:16,children:[Object(R.jsx)(C.a,{span:12,children:Object(R.jsx)(T.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter student name"}],children:Object(R.jsx)(N.a,{placeholder:"Please enter student name"})})}),Object(R.jsx)(C.a,{span:12,children:Object(R.jsx)(T.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter student email"}],children:Object(R.jsx)(N.a,{placeholder:"Please enter student email"})})})]}),Object(R.jsx)(A.a,{gutter:16,children:Object(R.jsx)(C.a,{span:12,children:Object(R.jsx)(T.a.Item,{name:"gender",label:"gender",rules:[{required:!0,message:"Please select a gender"}],children:Object(R.jsxs)(k.a,{placeholder:"Please select a gender",children:[Object(R.jsx)(z,{value:"MALE",children:"MALE"}),Object(R.jsx)(z,{value:"FEMALE",children:"FEMALE"}),Object(R.jsx)(z,{value:"OTHER",children:"OTHER"})]})})})}),Object(R.jsx)(A.a,{children:Object(R.jsx)(C.a,{span:12,children:Object(R.jsx)(T.a.Item,{children:Object(R.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Submit"})})})}),Object(R.jsx)(A.a,{children:j&&Object(R.jsx)(b.a,{indicator:B})})]})})},J=(n(252),n(132)),q=d.a.Header,U=d.a.Content,K=d.a.Footer,G=d.a.Sider,Y=j.a.SubMenu,Q=Object(R.jsx)(p.a,{style:{fontSize:24},spin:!0});var V=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(r.a)(s,2),p=i[0],k=i[1],F=Object(c.useState)(!0),T=Object(r.a)(F,2),A=T[0],C=T[1],N=Object(c.useState)(!1),D=Object(r.a)(N,2),P=D[0],z=D[1],B=function(e){var t=e.name,n=t.trim();return 0===n.length?Object(R.jsx)(J.a,{icon:Object(R.jsx)(y.a,{})}):1===n.split(" ").length?Object(R.jsx)(J.a,{children:t.charAt(0)}):Object(R.jsx)(J.a,{children:"".concat(t.charAt(0)).concat(t.charAt(t.length-1))})},V=[{title:"",dataIndex:"avatar",key:"avatar",render:function(e,t){return Object(R.jsx)(B,{name:t.name})}},{title:"Id",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Actions",dataIndex:"",key:"actions",render:function(e){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(u.a,{placement:"topRight",title:"Are you sure you want to delete ".concat(e.name,"?"),onConfirm:function(){return X(e.name,e.id,W)},okText:"Yes",cancelText:"No",children:Object(R.jsx)(h.a,{children:"Delete"})}),Object(R.jsx)(h.a,{children:"Edit"})]})}}],W=function(){Object(l.a)("api/v1/students").then(o).then((function(e){return e.json()})).then((function(e){a(e),C(!1)})).catch((function(e){console.log(e.response),e.response.json().then((function(e){console.log(e),M("There was an issue","".concat(e.message," [statusCode: ").concat(e.status,"]"))}))})).finally((function(){return C(!1)}))},X=function(e,t,n){(function(e){return Object(l.a)("api/v1/students/".concat(e),{method:"DELETE"}).then(o)})(t).then((function(){console.log("Student with id ".concat(t," has been deleted from the system")),L("".concat(e," has been deleted"),"".concat(e," with ID ").concat(t," has been deleted")),n()})).catch((function(t){t.response.json().then((function(t){console.log(t),M("Unable to delete ".concat(e),"".concat(t.message,", ").concat(t.status))}))}))};return Object(c.useEffect)((function(){console.log("component is mounted"),W()}),[]),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(d.a,{style:{minHeight:"100vh"},children:[Object(R.jsxs)(G,{collapsible:!0,collapsed:p,onCollapse:k,children:[Object(R.jsx)("div",{className:"logo"}),Object(R.jsxs)(j.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(R.jsx)(j.a.Item,{icon:Object(R.jsx)(w.a,{}),children:"Option 1"},"1"),Object(R.jsx)(j.a.Item,{icon:Object(R.jsx)(I.a,{}),children:"Option 2"},"2"),Object(R.jsxs)(Y,{icon:Object(R.jsx)(y.a,{}),title:"User",children:[Object(R.jsx)(j.a.Item,{children:"Tom"},"3"),Object(R.jsx)(j.a.Item,{children:"Bill"},"4"),Object(R.jsx)(j.a.Item,{children:"Alex"},"5")]},"sub1"),Object(R.jsxs)(Y,{icon:Object(R.jsx)(v.a,{}),title:"Team",children:[Object(R.jsx)(j.a.Item,{children:"Team 1"},"6"),Object(R.jsx)(j.a.Item,{children:"Team 2"},"8")]},"sub2"),Object(R.jsx)(j.a.Item,{icon:Object(R.jsx)(E.a,{}),children:"Files"},"9")]})]}),Object(R.jsxs)(d.a,{className:"site-layout",children:[Object(R.jsx)(q,{className:"site-layout-background",style:{padding:0}}),Object(R.jsxs)(U,{style:{margin:"0 16px"},children:[Object(R.jsxs)(f.a,{style:{margin:"16px 0"},children:[Object(R.jsx)(f.a.Item,{children:"User"}),Object(R.jsx)(f.a.Item,{children:"Bill"})]}),Object(R.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:A?Object(R.jsx)(b.a,{indicator:Q}):n.length<=0?Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(O.a,{children:[Object(R.jsx)(H,{showDrawer:P,setShowDrawer:z,fetchStudents:W}),Object(R.jsx)(h.a,{onClick:function(){return z(!P)},type:"primary",shape:"round",icon:Object(R.jsx)(S.a,{}),size:"medium",children:"Add New Student"})]})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(H,{showDrawer:P,setShowDrawer:z,fetchStudents:W}),Object(R.jsx)(x.a,{dataSource:n,columns:V,bordered:!0,title:function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(h.a,{onClick:function(){return z(!P)},type:"primary",shape:"round",icon:Object(R.jsx)(S.a,{}),size:"medium",children:"Add New Student"}),Object(R.jsx)(m.a,{style:{marginLeft:"10px"},children:"Number of students"}),Object(R.jsx)(g.a,{count:n.length,className:"site-badge-count-4"})]})},pagination:{pageSize:50},scroll:{y:500},rowKey:function(e){return e.id}}),";"]})})]}),Object(R.jsx)(K,{style:{textAlign:"center"},children:"Daniel Ohuruogu \xa92021 Example Spring + React App"})]})]})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,274)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(V,{})}),document.getElementById("root")),W()}},[[255,1,2]]]);
//# sourceMappingURL=main.7a88579a.chunk.js.map